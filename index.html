<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31 LUGLIO STUDIO - Home</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/card.css">
    <style>

    </style>
</head>
<body>
    <svg class="scratches-overlay" preserveAspectRatio="none" viewBox="0 0 1000 1000">
        <defs>
            <path id="p1" d="M100 150 L900 120" /><path id="p2" d="M50 40 L150 90 L130 110" /><path id="p3" d="M50 250 Q 250 200 500 250 T 950 300" /><path id="p4" d="M800 50 L850 450" /><path id="p5" d="M980 950 L850 850 L950 800" /><path id="p6" d="M100 800 q 50 -50 100 0 t 100 0 t 100 0 t 100 0" /><path id="p7" d="M450 480 L550 520" /><path id="p8" d="M200 950 C 400 700, 600 700, 800 950" /><path id="p9" d="M900 100 L950 150" />
        </defs>
        <use href="#p1" class="scratch-line s1" /><use href="#p2" class="scratch-line s2" /><use href="#p3" class="scratch-line s3" /><use href="#p4" class="scratch-line s4" /><use href="#p5" class="scratch-line s5" /><use href="#p6" class="scratch-line s6" /><use href="#p7" class="scratch-line s7" /><use href="#p8" class="scratch-line s8" /><use href="#p9" class="scratch-line s9" />
    </svg>

    <nav class="desk-nav">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="chi_siamo.html">Chi siamo</a></li>
            <li><a href="#services">Servizi</a></li>
            <li><a href="#contact">Contatti</a></li>
        </ul>
    </nav>

    <div class="button-container"><span></span><span></span><span></span></div>
    <div class="overlay">
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="chi_siamo.html">Chi siamo</a></li>
                <li><a href="#services">Servizi</a></li>
                <li><a href="#contact">Contatti</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <section class="hero" id="home">
            <div class="hero-content">
                <img src="scritta.png" alt="31 LUGLIO STUDIO Logo" class="hero-logo">
                <p class="tagline">Soundscapes Redefined</p>
                <div class="hero-buttons">
                    <a href="#merch" class="hero-button primary">Merch →</a>
                    <a href="prenota.html" class="hero-button secondary">Prenota →</a>
                </div>
            </div>
            <div class="scroll-indicator">Scroll</div>
        </section>

        <section class="projects-intro">
            <h2>I NOSTRI PROGETTI</h2>
            <p>Dai un ascolto agli ultimi lavori prodotti, mixati e masterizzati nel nostro studio.</p>
        </section>

        <section class="projects-section" id="projects">
            <div class="project-card">
                <audio class="audio-source" src="notitle.mp3" preload="metadata"></audio>
                
                <div class="project-cover">
                    <img src="ca.jpg" alt="Copertina brano">
                </div>
                
                <div class="project-info">
                     <div class="track-details">
                        <h3>Enrico Garrapa</h3>
                        <p>No Title</p>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar"></div>
                    </div>
                </div>
                
                <div class="player-controls">
                    <button class="play-pause-btn">
                        <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
                        <svg class="pause-icon" viewBox="0 0 24 24" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                    </button>
                </div>
            </div>
            
            <div class="project-card">
                <audio class="audio-source" src="glitchoflove.mp3" preload="metadata"></audio>
                <div class="project-cover">
                    <img src="ca2.jpg" alt="Copertina brano">
                </div>
                <div class="project-info">
                     <div class="track-details">
                        <h3>Enrico Garrapa</h3>
                        <p>Glitch of love</p>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar"></div>
                    </div>
                </div>
                <div class="player-controls">
                    <button class="play-pause-btn">
                        <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
                        <svg class="pause-icon" viewBox="0 0 24 24" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                    </button>
                </div>
            </div>

        </section>


        <section class="merch-intro">
            <h2>MERCH ESCLUSIVO</h2>
            <p>Pezzi unici, nati dalla nostra passione per il suono e il design. Disponibilità limitata.</p>
        </section>
        
        <section class="merch-section" id="merch">
            <div class="card" data-tilt>
                <div class="product-image"><img src="tshirt2.jpg" alt="Felpa con cappuccio"></div>
                <div class="product-info">
                    <h2>T-Shirt</h2>
                    <p class="description">Edizione limitata con ricamo sul petto e cappuccio felpato. Una descrizione un po' più lunga per dimostrare che la card si adatta.</p>
                    <div class="buy-action">
                        <span class="price">€79.90</span>
                        <a href="#" class="buy-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007Z" /></svg>
                            <span>Acquista</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card" data-tilt>
                <div class="product-image"><img src="tshirt1.jpg" alt="T-Shirt design"></div>
                <div class="product-info">
                    <h2>T-Shirt "Sottosopra"</h2>
                    <p class="description">T-shirt.</p>
                    <div class="buy-action">
                        <span class="price">€34.90</span>
                        <a href="#" class="buy-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007Z" /></svg>
                            <span>Acquista</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card" data-tilt>
                <div class="product-image"><img src="tshirt2.jpg" alt="Felpa con cappuccio"></div>
                <div class="product-info">
                    <h2>T-Shirt</h2>
                    <p class="description">Edizione limitata con ricamo sul petto e cappuccio felpato. Una descrizione un po' più lunga per dimostrare che la card si adatta.</p>
                    <div class="buy-action">
                        <span class="price">€79.90</span>
                        <a href="#" class="buy-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007Z" /></svg>
                            <span>Acquista</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="social-links"><a href="#">Instagram</a><a href="#">Spotify</a><a href="#">Soundcloud</a></div>
        <p>&copy; 2025 31 LUGLIO STUDIO. Tutti i diritti riservati.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.button-container').click(function() {
                $(this).toggleClass('active');
                $('.overlay').toggleClass('open');
            });

            function handleScroll() {
                var header = $('.desk-nav');
                var scrollPosition = $(window).scrollTop();
                if (scrollPosition > 50) { header.addClass('scrolled'); } 
                else { header.removeClass('scrolled'); }
            }
            $(window).on('scroll', handleScroll);
            handleScroll();
        });
        
        VanillaTilt.init(document.querySelectorAll(".card"), {
            max: 15, speed: 400, glare: true, "max-glare": 0.1,
        });

        /* --- SCRIPT PER PLAYER AUDIO --- */
        document.addEventListener('DOMContentLoaded', () => {
            const projectCards = document.querySelectorAll('.project-card');

            projectCards.forEach(card => {
                const audio = card.querySelector('.audio-source');
                const playPauseBtn = card.querySelector('.play-pause-btn');
                const playIcon = card.querySelector('.play-icon');
                const pauseIcon = card.querySelector('.pause-icon');
                const progressBarContainer = card.querySelector('.progress-bar-container');
                const progressBar = card.querySelector('.progress-bar');

                playPauseBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isPlaying = card.classList.contains('playing');
                    
                    if (isPlaying) {
                        audio.pause();
                    } else {
                        document.querySelectorAll('.audio-source').forEach(otherAudio => {
                            if (otherAudio !== audio) {
                                otherAudio.pause();
                            }
                        });
                        audio.play();
                    }
                });

                audio.addEventListener('play', () => {
                    projectCards.forEach(otherCard => {
                        if (otherCard !== card) {
                           otherCard.classList.remove('playing');
                        }
                    });
                    card.classList.add('playing');
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                });

                audio.addEventListener('pause', () => {
                    card.classList.remove('playing');
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                });

                audio.addEventListener('timeupdate', () => {
                    const { currentTime, duration } = audio;
                    if (duration) {
                        const progressPercent = (currentTime / duration) * 100;
                        progressBar.style.width = `${progressPercent}%`;
                    }
                });
                
                 audio.addEventListener('ended', () => {
                    card.classList.remove('playing');
                    progressBar.style.width = `0%`;
                 });

                progressBarContainer.addEventListener('click', function(e) {
                    const width = this.clientWidth;
                    const clickX = e.offsetX;
                    const duration = audio.duration;
                    if (duration) {
                        audio.currentTime = (clickX / width) * duration;
                    }
                });
            });
        });
    </script>
</body>
</html>