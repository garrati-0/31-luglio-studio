<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31 LUGLIO STUDIO - Home</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css">

    <style>
        /* Stili per le introduzioni */
        .merch-intro, .projects-intro {
            text-align: center;
            padding: 80px 20px 0;
            color: #ffffff;
        }

        .merch-intro h2, .projects-intro h2 {
            font-family: 'Anton', sans-serif;
            font-size: 3em;
            text-transform: uppercase;
            font-weight: 400;
            margin-bottom: 10px;
        }

        .merch-intro p, .projects-intro p {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.1em;
            max-width: 600px;
            margin: 0 auto;
            opacity: 0.8;
            line-height: 1.6;
        }

        /* --- NUOVA SEZIONE PROGETTI (Design 3.0) --- */
        .projects-section {
            padding: 40px 20px 80px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .project-card {
            width: 100%;
            max-width: 650px; /* Larghezza massima della card */
            height: 100px; /* Altezza fissa della card */
            display: flex;
            align-items: center;
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            font-family: 'Montserrat', sans-serif;
            color: #fff;
            padding: 0; /* Rimuove il padding interno */
            overflow: hidden; /* Necessario per i bordi arrotondati della copertina */
            transition: background 0.3s ease;
        }

        .project-card:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .project-cover {
            width: 100px;
            height: 100px;
            flex-shrink: 0; /* Impedisce alla copertina di rimpicciolirsi */
        }
        
        .project-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .project-info {
            flex-grow: 1;
            padding: 12px 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%; /* Occupa tutta l'altezza */
        }

        .track-details h3 {
            font-size: 1.1em;
            font-weight: 700;
            margin: 0;
        }
        
        .track-details p {
            font-size: 0.9em;
            opacity: 0.7;
            margin: 4px 0 0;
        }

        .progress-bar-container {
            width: 100%;
            height: 4px; /* Spessore della barra */
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            cursor: pointer;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: #fff;
            border-radius: 2px;
        }
        
        .player-controls {
             padding-right: 20px;
        }

        .play-pause-btn {
            width: 44px; /* Dimensione del cerchio */
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            flex-shrink: 0;
        }

        .play-pause-btn svg {
            width: 24px;
            height: 24px;
            fill: #fff;
        }
        
        @media (max-width: 500px) {
            .track-details h3 {
               font-size: 1em;
            }
             .track-details p {
               font-size: 0.8em;
            }
        }
        /* --- FINE SEZIONE PROGETTI --- */


        .merch-section {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 40px 20px 100px 20px;
            flex-wrap: wrap; 
        }

        .card {
            width: 340px;
            border-radius: 20px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-10px);
        }

        .product-image img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }

        .product-info { 
            padding: 25px; 
            color: #ffffff;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            font-family: 'Montserrat', sans-serif;
        }
        
        .product-info h2 { 
            font-size: 1.8em; 
            font-weight: 700; 
            line-height: 1.2; 
            margin-bottom: 8px; 
        }
        
        .product-info .description { 
            font-size: 0.95em; 
            opacity: 0.8; 
            margin-bottom: 20px; 
            line-height: 1.6;
        }
        
        .buy-action { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            margin-top: auto;
        }
        
        .price { 
            font-size: 1.5em; 
            font-weight: 700; 
        }

        .buy-button {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }

        .buy-button:hover { background: rgba(255, 255, 255, 0.3); }
        .buy-button svg { width: 20px; height: 20px; }

        @media (max-width: 768px) {
            .merch-section {
                justify-content: flex-start;
                padding-left: 20px;
                padding-right: 20px;
                flex-wrap: nowrap;
                overflow-x: auto;
                scroll-snap-type: x mandatory; 
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .merch-section::-webkit-scrollbar {
                display: none;
            }
            .card {
                scroll-snap-align: start;
                flex-shrink: 0;
            }
        }
    </style>
</head>
<body>
    <svg class="scratches-overlay" preserveAspectRatio="none" viewBox="0 0 1000 1000">
        <defs>
            <path id="p1" d="M100 150 L900 120" /><path id="p2" d="M50 40 L150 90 L130 110" /><path id="p3" d="M50 250 Q 250 200 500 250 T 950 300" /><path id="p4" d="M800 50 L850 450" /><path id="p5" d="M980 950 L850 850 L950 800" /><path id="p6" d="M100 800 q 50 -50 100 0 t 100 0 t 100 0 t 100 0" /><path id="p7" d="M450 480 L550 520" /><path id="p8" d="M200 950 C 400 700, 600 700, 800 950" /><path id="p9" d="M900 100 L950 150" />
        </defs>
        <use href="#p1" class="scratch-line s1" /><use href="#p2" class="scratch-line s2" /><use href="#p3" class="scratch-line s3" /><use href="#p4" class="scratch-line s4" /><use href="#p5" class="scratch-line s5" /><use href="#p6" class="scratch-line s6" /><use href="#p7" class="scratch-line s7" /><use href="#p8" class="scratch-line s8" /><use href="#p9" class="scratch-line s9" />
    </svg>

    <nav class="desk-nav">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="chi_siamo.html">Chi siamo</a></li>
            <li><a href="#services">Servizi</a></li>
            <li><a href="#contact">Contatti</a></li>
        </ul>
    </nav>

    <div class="button-container"><span></span><span></span><span></span></div>
    <div class="overlay">
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="chi_siamo.html">Chi siamo</a></li>
                <li><a href="#services">Servizi</a></li>
                <li><a href="#contact">Contatti</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <section class="hero" id="home">
            <div class="hero-content">
                <img src="scritta.png" alt="31 LUGLIO STUDIO Logo" class="hero-logo">
                <p class="tagline">Soundscapes Redefined</p>
                <div class="hero-buttons">
                    <a href="#merch" class="hero-button primary">Merch →</a>
                    <a href="#prenota" class="hero-button secondary">Prenota →</a>
                </div>
            </div>
            <div class="scroll-indicator">Scroll</div>
        </section>

        <section class="projects-intro">
            <h2>I NOSTRI PROGETTI</h2>
            <p>Dai un ascolto agli ultimi lavori prodotti, mixati e masterizzati nel nostro studio.</p>
        </section>

        <section class="projects-section" id="projects">
            <div class="project-card">
                <audio class="audio-source" src="notitle.mp3" preload="metadata"></audio>
                
                <div class="project-cover">
                    <img src="ca.jpg" alt="Copertina brano">
                </div>
                
                <div class="project-info">
                     <div class="track-details">
                        <h3>Enrico Garrapa</h3>
                        <p>No Title</p>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar"></div>
                    </div>
                </div>
                
                <div class="player-controls">
                    <button class="play-pause-btn">
                        <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
                        <svg class="pause-icon" viewBox="0 0 24 24" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                    </button>
                </div>
            </div>
            
            <div class="project-card">
                <audio class="audio-source" src="glitchoflove.mp3" preload="metadata"></audio>
                <div class="project-cover">
                    <img src="ca2.jpg" alt="Copertina brano">
                </div>
                <div class="project-info">
                     <div class="track-details">
                        <h3>Enrico Garrapa</h3>
                        <p>Glitch of love</p>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar"></div>
                    </div>
                </div>
                <div class="player-controls">
                    <button class="play-pause-btn">
                        <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
                        <svg class="pause-icon" viewBox="0 0 24 24" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                    </button>
                </div>
            </div>

        </section>


        <section class="merch-intro">
            <h2>MERCH ESCLUSIVO</h2>
            <p>Pezzi unici, nati dalla nostra passione per il suono e il design. Disponibilità limitata.</p>
        </section>
        
        <section class="merch-section" id="merch">
            <div class="card" data-tilt>
                <div class="product-image"><img src="tshirt2.jpg" alt="Felpa con cappuccio"></div>
                <div class="product-info">
                    <h2>T-Shirt</h2>
                    <p class="description">Edizione limitata con ricamo sul petto e cappuccio felpato. Una descrizione un po' più lunga per dimostrare che la card si adatta.</p>
                    <div class="buy-action">
                        <span class="price">€79.90</span>
                        <a href="#" class="buy-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007Z" /></svg>
                            <span>Acquista</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card" data-tilt>
                <div class="product-image"><img src="tshirt1.jpg" alt="T-Shirt design"></div>
                <div class="product-info">
                    <h2>T-Shirt "Sottosopra"</h2>
                    <p class="description">T-shirt.</p>
                    <div class="buy-action">
                        <span class="price">€34.90</span>
                        <a href="#" class="buy-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007Z" /></svg>
                            <span>Acquista</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card" data-tilt>
                <div class="product-image"><img src="tshirt2.jpg" alt="Felpa con cappuccio"></div>
                <div class="product-info">
                    <h2>T-Shirt</h2>
                    <p class="description">Edizione limitata con ricamo sul petto e cappuccio felpato. Una descrizione un po' più lunga per dimostrare che la card si adatta.</p>
                    <div class="buy-action">
                        <span class="price">€79.90</span>
                        <a href="#" class="buy-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007Z" /></svg>
                            <span>Acquista</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="social-links"><a href="#">Instagram</a><a href="#">Spotify</a><a href="#">Soundcloud</a></div>
        <p>&copy; 2025 31 LUGLIO STUDIO. Tutti i diritti riservati.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.button-container').click(function() {
                $(this).toggleClass('active');
                $('.overlay').toggleClass('open');
            });

            function handleScroll() {
                var header = $('.desk-nav');
                var scrollPosition = $(window).scrollTop();
                if (scrollPosition > 50) { header.addClass('scrolled'); } 
                else { header.removeClass('scrolled'); }
            }
            $(window).on('scroll', handleScroll);
            handleScroll();
        });
        
        VanillaTilt.init(document.querySelectorAll(".card"), {
            max: 15, speed: 400, glare: true, "max-glare": 0.1,
        });

        /* --- SCRIPT PER PLAYER AUDIO --- */
        document.addEventListener('DOMContentLoaded', () => {
            const projectCards = document.querySelectorAll('.project-card');

            projectCards.forEach(card => {
                const audio = card.querySelector('.audio-source');
                const playPauseBtn = card.querySelector('.play-pause-btn');
                const playIcon = card.querySelector('.play-icon');
                const pauseIcon = card.querySelector('.pause-icon');
                const progressBarContainer = card.querySelector('.progress-bar-container');
                const progressBar = card.querySelector('.progress-bar');

                playPauseBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isPlaying = card.classList.contains('playing');
                    
                    if (isPlaying) {
                        audio.pause();
                    } else {
                        document.querySelectorAll('.audio-source').forEach(otherAudio => {
                            if (otherAudio !== audio) {
                                otherAudio.pause();
                            }
                        });
                        audio.play();
                    }
                });

                audio.addEventListener('play', () => {
                    projectCards.forEach(otherCard => {
                        if (otherCard !== card) {
                           otherCard.classList.remove('playing');
                        }
                    });
                    card.classList.add('playing');
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                });

                audio.addEventListener('pause', () => {
                    card.classList.remove('playing');
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                });

                audio.addEventListener('timeupdate', () => {
                    const { currentTime, duration } = audio;
                    if (duration) {
                        const progressPercent = (currentTime / duration) * 100;
                        progressBar.style.width = `${progressPercent}%`;
                    }
                });
                
                 audio.addEventListener('ended', () => {
                    card.classList.remove('playing');
                    progressBar.style.width = `0%`;
                 });

                progressBarContainer.addEventListener('click', function(e) {
                    const width = this.clientWidth;
                    const clickX = e.offsetX;
                    const duration = audio.duration;
                    if (duration) {
                        audio.currentTime = (clickX / width) * duration;
                    }
                });
            });
        });
    </script>
</body>
</html>